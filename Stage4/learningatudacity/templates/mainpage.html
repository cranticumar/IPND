<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Welcome</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    {% include "nav.html" %}
    <div class="content">
        <div class="read">
            {% if displayconcept %}
            {% autoescape false %}
            {{ displayconcept.concept }}
            {% endautoescape %}
            {% endif %}
            {% if not contentadd %}
            <div id="content-slider">
                <div id="slider">
                    <div id="mask">
                        <ul>
                            {% for area in areas %}
                            {% autoescape false %}
                            <li id="id{{ areas.index(area) }}" style="-moz-animation:cycle{{ areas.index(area) }} 60s linear infinite;-webkit-animation:cycle{{ areas.index(area) }} 60s linear infinite;">
                                {{ area.concept }}
                                <div class="abt">
                                    <h1>{{ area.title }}</h1>
                                </div>
                            </li>
                            {% endautoescape %}
                            {% endfor %}
                        </ul>
                    </div>
                    <div class="progress-bar"></div>
                </div>
            </div>
            <br>
            <div style="text-transform:capitalize;text-align:center;font-weight:bolder;font-size:20px">
                <marquee behavior="scroll" direction="left">Hover over to pause the Slideshow</marquee>
            </div>
            <br>
            <b>Comments are:</b><br>
            {% if posts %}
            <ul style="list-style:none;">
                {% for post in posts %}
                <li style="background-color:mediumturquoise;border-radius:3%;margin-bottom:10px;">
                    <b>{{ post[1] }} posted on {{ post[0].split('.')[0] }}:</b>
                    <div class="post">{{ post[2][0] }}</div>
                </li>
                {% endfor %}
            </ul>
            {% endif %}
            {% else %}
            <form method="post" class="addcontent">
                <input type="text" name="title" placeholder="Title of the Concept"><br><br>
                <textarea type="text" maxlength="1000000000" name="concept" placeholder="Explain the Concept"></textarea><br><br>
                Magic Word: <input type="text" name="magicword" placeholder="Please enter Magic word" style="max-width:200px">
                {% if magicword and not magicword == "cranticumar" %}
                <b style="color:red">{{ error }}</b>
                {% elif error %}
                <b style="color:green">{{ error }}</b>
                {% endif %}
                &emsp;<input type="submit" value="Add Content to Database">
            </form>
            {% endif %}
        </div>
        <div class="application">
            <form action="/mainpage" method="post">
                <b>Comments</b>
                <textarea type="text" name="comment" id="post" placeholder="Write your Valuable feedback" maxlength="10000"></textarea>
                <input type="text" name="username" placeholder="Please type your name">&emsp;
                <input type="submit" name="post" value="post">&emsp;
                {% if error %}
                <b style="color:red;">Please enter your name</b>
                {% endif %}
            </form>
            <div style="border-radius:5px;border: 1px solid #000;padding:10px;margin-bottom:10px;margin-top:10px;max-height:70%;overflow:auto;">
                {% if not home %}
                {% block content %}
                {% endblock %}
                {% else %}
                <form>
                    Want to read a specific Topic:
                    <select name="topic">
                        {% for area in areas %}
                        <option value="" hidden selected disabled></option>
                        <option value="{{ area.title }}">{{ area.title }}</option>
                        {% endfor %}
                    </select>
                    <input type="submit" name="getmetopic" value="Fetch">
                </form>
                <form>
                    <div style="text-align:center;padding:50px;">
                        <button type="submit" name="surpriseme" value="true" style="background-color:transparent;border:none;cursor:pointer">
                            <img src="/media/surpriseme1.jpg" alt="surpriseme!!!">
                        </button>
                    </div>
                </form>
                {% endif %}
            </div>
        </div>
    </div>
</body>
</html>